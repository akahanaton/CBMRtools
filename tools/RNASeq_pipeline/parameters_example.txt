#Last edited on 11/04/2014 by Vinay Kartha
#########################################################################################################
# Standard parameters
#########################################################################################################

#working directory where a results and report directory will be created
working_dir	    =	   /restricted/projectnb/montilab-p/projects/superfund/project4/test/RNASeq_pipeline_test_results/

#file that contains 2 or 3 columns with fastq | [fastq2]  | stub
# See /restricted/projectnb/montilab-p/projects/superfund/project4/scripts/filenames_example.txt for an example template
raw_filenames	  =	   /restricted/projectnb/montilab-p/projects/superfund/project4/test/filenames_p4_paired_test.txt

#Does the raw_filenames file have a header
raw_file_header =    TRUE

#paired end reads?
paired	        =    TRUE

#start pipeline from scratch or try to pick up at the last step that was performed successfully
clean_run       =    FALSE

#directory that contains all the python scripts
#scripts_dir	    = 	 /restricted/projectnb/montilab-p/CBMrepository/users/gusef/RNASeq_pipeline/
#Latest version with edits
scripts_dir         =    /restricted/projectnb/montilab-p/projects/superfund/project4/scripts/RNASeq_pipeline/ 

#should everything also be printed on the command line
verbose         =    TRUE

#chose the aligner
aligner = tophat     #right now only 'skip' and 'tophat' are allowed

#choose which of the programs you want to run to quantify reads
run_cufflinks = FALSE   # NOTE: Cufflinks does not work with single-end data and will not be run by default if your data is not paired-end sequencing data
run_htseq = TRUE
run_featureCount = TRUE

#Option to run only the initial fastqc, then clip the standard illumina adapters and finally run another fastqc
#used to check if all adapters were trimmed before running the actual alignment
QC_and_trim_only   =   FALSE


#########################################################################################################
# QSUB parameters
############################################################################################################################################
run_single_cpu = FALSE         #in case you have nothing to do for the next 2 month or so give this option a try!!

modules_python2.6 = FASTX-Toolkit/0.0.13.2
modules_python2.7 = python2.7/Python-2.7.3_gnu446, samtools/samtools-0.1.19_gnu446, htseq/0.6.1p1, boost/boost_1_51_0_gnu446, bowtie2/2.2.2, tophat/2.0.13, cufflinks/2.2.0, FASTX-Toolkit/0.0.13.2
modules_python2.7.5 = python/2.7.5, samtools/samtools-0.1.19_gnu446, pysam/0.7.7


###########################################
#MAKE SURE YOU CHANGE THIS to avoid e-mails to default user
qsub_email          = user@bu.edu
qsub_send_email     = FALSE
qsub_memory         = 2g
qsub_suffix         = pbs
qsub_PROJECT        = montilab-p
qsub_MACHINE        = scc
qsub_RUNTIME_LIMIT  = 96:00:00    
qsub_wait_time      = 10
qsub_num_processors = 4-8


############################################################################################################################################
# TRIMMING
############################################################################################################################################
do_trimming      =     FALSE
trimming_exec    =     fastx_trimmer    #on SCC we don't need to specify the location of the executable we just need to load the proper module
trimming_mode    =     -l    # can be -l (last base to keep), -f (first base to keep), or -t (trim N nucleotides at the end)
trimming_value   =     45    # value that goes with the mode
trimming_quality_value    =     -Q33  # optional: Q33 works for sanger

############################################################################################################################################
# CUTADAPT
############################################################################################################################################
cutadapt_exec               =    /restricted/projectnb/montilab-p/tools/cutadapt-1.4.1/bin/cutadapt
cutadapt_python_version     =    python2.7
#the adapters here specified work for Illumina TrueSeq if you need others check at https://github.com/marcelm/cutadapt/blob/master/README.md
cutadapt_first_adapter      =    AGATCGGAAGAGCACACGTCTGAACTCCAGTCAC 
cutadapt_second_adapter     =    AGATCGGAAGAGCGTCGTGTAGGGAAAGAGTGTAGATCTCGGTGGTCGCCGTATCATT 
cutadapt_m                  =    20     #minimum length of read (if the read is smaller than that it will be removed)


############################################################################################################################################
#Matching paired-end reads prior to running tophat
match_pairs_exec            = /restricted/projectnb/montilab-p/projects/superfund/project4/scripts/RNASeq_pipeline/paired_ends_intersect.py
match_pairs_python_version  = python2.7 


############################################################################################################################################
#FAST QC
############################################################################################################################################
fastqc_exec      =      	/restricted/projectnb/montilab-p/tools/FastQC_v0.10.1/fastqc   

############################################################################################################################################
#TOPHAT
############################################################################################################################################
tophat_exec                 =   tophat2     #on SCC we don't need to specify the location of the executable we just need to load the proper module
#The tophat index refers to the prefix of a bowtie2 index that must be built prior to running tophat2
tophat_index                =   /restricted/projectnb/montilab-p/projects/superfund/project4/killifish.genome/Version3_Assembly/bowtie2_index/killiv3
tophat_qual                 =   none        #  can be none, --solexa-quals or --solexa1.3-quals
tophat_N                    =   2          #--read-mismatches   #Default is 2	
tophat_gap_length           =   2                                #Default is 2
tophat_edit_dist            =   2                               #Default is 2
mate_inner_dist             =   50          #default is 50
mate_std_dev                =   20          #default is 20

############################################################################################################################################
#BAMQC
############################################################################################################################################
bamqc_exec                  =  python2.7
bamqc_script                =  run_bamqc.py

############################################################################################################################################
#CUFFLINKS
############################################################################################################################################
cufflinks_exec           = cufflinks     #on SCC we don't need to specify the location of the executable we just need to load the proper module
cufflinks_G              =  /restricted/projectnb/montilab-p/projects/superfund/project4/killifish.genome/gene.models/kfish2rae5g.main.pub_nomRNA.gff  # -G/--GTF <reference_annotation.(gtf/gff)>
cufflinks_b              = /restricted/projectnb/montilab-p/projects/superfund/project4/killifish.genome/Version3_Assembly/killifish20130322asm.fa             #-b/--frag-bias-correct <genome.fa>
cufflinks_compatible_hits = inactive           #Cufflinks counts only those fragments compatible with some reference transcript towards the number of mapped hits used in the FPKM denominator. (can be 'active' to turn it on) 
cufflinks_library_type   = fr-unstranded

#The following parameter all normalize the counts during the cufflinks run. However, if you intend to run edgeR afterwards you need raw counts not fpkm 
cufflinks_total_hits     = active           #create FPKM (can be 'active' for turning this option on or anything else to turn it off)
cufflinks_N              = active           #upper quantile normalization (can be 'active' for turning this option on or anything else to turn it off)
cufflinks_u              = active           #multi read correct (can be 'active' for turning this option on or anything else to turn it off)


############################################################################################################################################
#HT-Seq
############################################################################################################################################
HTSeq_exec    =  htseq-count
sam_exec      =  samtools     #To run samtools view and pipe into htseq-count
HTSeq_s       =  no           #stranded? (yes/no/reverse)
HTSeq_t       =  exon
HTSeq_m       =  intersection-nonempty        #union, intersection-strict and intersection-nonempty
HTSeq_id      =  gene_id       #Default, for most gtf files: gene_id
HTSeq_gft     =  /restricted/projectnb/montilab-p/projects/superfund/project4/killifish.genome/gene.models/kfish2rae5g.main.pub_edit.gff #(Annotation file for read counting)
Rscript_exec  =  Rscript


############################################################################################################################################
#featureCount
############################################################################################################################################
featureCount_exec     =   /restricted/projectnb/montilab-p/personal/liye/shared/tools/Subread/subread-1.4.6-Linux-x86_64/bin/featureCounts
featureCount_gft      =   /restricted/projectnb/montilab-p/projects/superfund/project4/killifish.genome/gene.models/kfish2rae5g.main.pub_edit.gff #(Annotation file for read counting)
featureCount_s        = 0      #stranded? (0 (unstranded), 1 (stranded) and 2 (reversely stranded)); 0 by default
featureCount_t        = exon   #Feature level over which read summarization will be performed. 'exon' by default
featureCount_id       = gene_id #Attribute type used to group features into meta-features (e.g. genes), when GTF file is provided. 'gene_id' by default (usually 'gene_id' for most annotation files)
featureCount_by_meta  = TRUE   #Set this to true if you want to assemble feature counts to their meta-feature specified using the 'featureCount_id' parameter. If FALSE, will generate counts per feature specified using the featureCount_t parameter
Rscript_exec          = Rscript
